# 제3장 입출력함수와 연산자

## 학습개요

모든 프로그램은 처리해야 할 자료의 입력과 출력이 필요함. C 언어에서는 라이브러리 함수(library function) 형태의 입출력함수를 많이 제공하고 있음. C 언어의 연산자는 기계 코드(machine code)와 일대일 대응을 이루도록 설계되어 연산 실행 속도가 매우 빠름.

## 학습목표

1. 표준입출력함수를 이해하고 사용 방법을 습득함
2. 각종 연산자의 기능을 이해하고 여러 가지 예제 적용함
3. 연산자의 우선순위를 이해함

## 주요용어

표준입출력함수 | 산술/관계/논리/대입/조건/비트 연산자 | 연산자 우선순위

---

## 3.1 표준입출력함수

자료를 컴퓨터 내부에 기억시키는 것을 입력이라 하고, 내부에 기억된 내용을 컴퓨터 외부에 나타내는 것을 출력이라고 함. 이러한 자료의 입력과 출력을 위해 C 언어에서 제공하는 대표적인 표준입출력함수는 앞에서 계속 프로그램 도입부에 포함되었던 표준 입출력 라이브러리 `<stdio.h>`에 정의되어 있음.

### 표준입출력함수 분류

#### 표준출력함수
- `printf()`: 화면에 여러 종류의 자료를 출력
- `putchar()`: 화면에 1개의 문자를 출력
- `puts()`: 화면에 문자열을 출력

#### 표준입력함수
- `scanf()`: 키보드를 통해 1개 이상의 자료를 입력받음
- `getchar()`: 키보드를 통해 1개의 문자를 입력받음
- `gets()`: 키보드를 통해 문자열을 입력받음

### 3.1.1 자료의 입출력

#### (1) printf() 함수

프로그램이 실행되고 나면 그 결과를 적절한 양식으로 출력해야 함. printf()는 모니터 화면에 자료를 출력하고자 할 때 사용되는 양식 지정 출력함수로, print formatted의 의미임.

**형식**: `printf("출력 양식", 변수 1, 변수 2, ...);`

**사용 예**:
- `printf("This is an example \n");`
- `printf("A = %d, B = %c \n", a, b);`

**기능**: 주어진 출력 양식으로 자료를 출력함

<details>
<summary>printf() 함수 기본 사용 예시 (3-1.c)</summary>

```c
#include <stdio.h>
void main() {
    char c = 'A';
    int i = 10, j = 20, k = 30;
    
    // printf()의 인용부호 내 문자가 출력됨
    printf("간단한 출력 프로그램 \n");
    
    // 변수 c값이 순서대로 %c와 %d 자리에 대응됨
    printf("c = %c, c의 아스키 코드값은 %d \n", c, c);
    
    // 변수 i, j, k값이 순서대로 %d자리와 대응됨
    printf("i = %d, j = %d, k = %d", i, j, k);
}
```

**실행 결과**:
```
간단한 출력 프로그램
c = A, c의 아스키 코드값은 65
i = 10, j = 20, k = 30
```
</details>

printf() 함수의 형식에서 출력 양식은 반드시 큰 따옴표(" ")로 감싸주어야 하며, 이 출력 양식은 문자, 숫자, 기호 등과 같은 문자형 상수와 "%문자"의 형태인 출력 양식 변환기호, 그리고 "\문자" 형태인 제어문자로 구성됨.

#### 출력 양식 변환기호

| %문자 | 변환 형식 | 인자의 자료형 |
|-------|----------|-------------|
| %d | 부호 있는 10진 정수로 변환하여 출력 | char, short int, int |
| %ld | 부호 있는 10진 long 정수로 변환하여 출력 | long int |
| %lld | 부호 있는 10진 long long 정수로 변환하여 출력 | long long int |
| %u | 부호 없는 10진 정수로 변환하여 출력 | unsigned int |
| %o | 부호 없는 8진수로 변환하여 출력 | unsigned int |
| %x, %X | 부호 없는 16진수로 변환하여 출력 | unsigned int |
| %f | 10진 부동소수점 형식으로 변환하여 출력 | float, double |
| %lf | 10진 부동소수점 형식으로 변환하여 출력 | long double |
| %e, %E | 지수 형태로 출력 | float, double |
| %c | 한 문자로 변환하여 출력 | char, short int, int |
| %s | 문자열로 변환하여 출력 | char * |
| %p | 포인터 주소값 출력 | void * |

이 외에도 '%'문자를 출력하기 위해 %%가 사용됨.

<details>
<summary>양식 변환기호의 사용 예시 (3-2.c)</summary>

```c
#include <stdio.h>
void main() {
    printf("%%d : %d \n", 2147483647);
    printf("%%ld : %ld \n", 2147483647);
    printf("%%lld : %lld \n", 9223372036854775807);
    printf("%%u : %u \n", 4294967295);
    printf("%%o : %o \n", 4294967295);
    printf("%%x : %x \n", 4294967295);
    printf("%%X : %X \n", 4294967295);
    printf("%%f : %f \n", 1234.5678);
    printf("%%lf : %lf \n", 1234.5678);
    printf("%%e : %e \n", 1234.5678);
    printf("%%c : %c \n", 'a');
    printf("%%s : %s \n", "knou");
}
```

**실행 결과**:
```
%d : 2147483647
%ld : 2147483647
%lld : 9223372036854775807
%u : 4294967295
%o : 37777777777
%x : ffffffff
%X : FFFFFFFF
%f : 1234.567800
%lf : 1234.567800
%e : 1.234568e+003
%c : a
%s : knou
```
</details>

<details>
<summary>생각해 보기 - printf() 오류 예시</summary>

다음과 같은 형식으로 printf() 함수가 사용되었을 때를 생각해 보고 직접 실행해 보자. 에러가 발생하는가? 발생하지 않는다면 어떤 결과가 출력되는가?

```c
printf("test", 123);    // 변환기호 없이 상수만 있는 경우
printf("test %d");      // 변환기호는 있지만 해당하는 변수가 없는 경우
```

**분석**:
1. `printf("test", 123)`: "test"만 출력됨 (123은 무시됨)
2. `printf("test %d")`: "test"와 예측할 수 없는 값이 출력됨 (메모리의 쓰레기 값)
</details>

#### 출력 양식의 편집

printf() 함수로 자료를 출력할 때는 출력 폭이나 각 변수에 대한 출력 자릿수를 지정할 수 있음. 즉, 출력 양식 편집은 %문자 다음에 숫자 또는 -(마이너스)를 지정하면 됨.

<details>
<summary>출력 양식 편집 예시 (3-3.c)</summary>

```c
#include <stdio.h>
void main() {
    printf("|%d| \n", 123);        // 길이만큼 출력 폭이 자동 지정
    printf("|%5d| \n", 123);       // 5자리로 오른쪽부터 채워짐
    printf("|%-5d| \n", 123);      // 5자리로 왼쪽부터 채워짐
    printf("|%05d| \n", 123);      // 5자리로 오른쪽부터 채워지고, 공백은 0으로 채워짐
    printf("|%6.1f| \n", 123.45);  // 6자리(소수점 포함) 소수점 이하 1자리 출력
    printf("|%07.2f| \n", 123.45); // 7자리(소수점 포함) 소수점 이하 2자리 출력
}
```

**실행 결과**:
```
|123|
|  123|
|123  |
|00123|
| 123.5|
|0123.45|
```
</details>

#### (2) scanf() 함수

**형식**: `scanf("입력 양식", &변수 1, &변수 2, ...);`

**사용 예**: `scanf("%d", &a);`

**기능**: 주어진 양식으로 자료를 입력받아 지정된 기억공간(변수)에 저장함

scanf() 함수는 키보드로부터 자료를 입력받을 때 사용되는 양식 지정 입력함수임. scanf() 함수에서 입력 양식으로 사용되는 변환기호는 printf() 함수에서 사용되는 양식 변환기호가 그대로 사용됨. scanf() 함수의 입력 양식에 "%문자"가 아닌 다른 문자를 포함시켜서는 안 됨. 또한 모든 변수 앞에는 주소를 의미하는 &(주소 연산자)를 붙여야 함. 그러나 문자열이나 배열명 앞에는 그 이름 자체가 주소의 의미를 가지고 있으므로 &을 생략함.

#### 입력 양식 변환기호

| %문자 | 변환 기능 |
|-------|----------|
| %d | 키보드를 통해 정수형을 입력받음 |
| %ld | 키보드를 통해 long 정수형을 입력받음 |
| %lld | 키보드를 통해 long long 정수형을 입력받음 |
| %f | 키보드를 통해 실수형을 입력받음 |
| %lf | 키보드를 통해 double 실수형을 입력받음 |
| %c | 키보드를 통해 문자형을 입력받음 |
| %s | 키보드를 통해 문자열을 입력받음 |

이 외에 8진수 자료의 입력을 위해서는 %o, 16진수 자료의 입력을 위해서는 %x가 사용됨.

scanf() 함수가 실행되면 자료 입력을 위해 화면상에 커서(cursor)가 깜박이는데 이때 자료를 입력하고 엔터 키를 누르면 됨. 자료를 입력할 때 자료가 하나 이상일 경우에는 공백을 두어 자료를 구분해 주어야 함.

Visual Studio에서는 scanf()와 몇몇 함수를 권장하지 않는 함수로 지정하고 있어 포함된 소스 코드를 컴파일하지 않음. 따라서 scanf()를 사용하기 위해서는 아래 코드를 도입부에 포함해야만 정상적으로 컴파일됨:

```c
#pragma warning(disable:4996)
```

<details>
<summary>scanf() 함수의 사용 예시 (3-4.c)</summary>

```c
#include <stdio.h>
#pragma warning(disable:4996) // 권장하지 않는 함수 사용에 대한 경고 메시지 무시
void main() {
    int a;
    long long int b;
    float c;
    char ch;
    char s[20];
    
    printf("정수와 long long 정수를 입력 : ");
    scanf("%d %lld", &a, &b);      // 2개의 정수를 입력받아 변수 a, b에 저장
    printf("a = %d, b = %lld \n", a, b);
    
    printf("실수를 입력 : ");
    scanf("%f", &c);               // 실수를 입력받아 변수 c에 저장
    printf("c = %10.4f, c(지수) = %e \n", c, c);
    
    printf("문자를 입력 : ");
    scanf(" %c", &ch);             // 문자를 입력받아 변수 ch에 저장
    // 앞의 scanf()를 입력할 때 누른 Enter를 무시하기 위해 %c 앞에 공백을 넣어야 함
    printf("ch = %c \n", ch);
    
    printf("문자열을 입력 : ");
    scanf("%s", s);                // 문자열을 입력받아 배열 s에 저장
    printf("s[] = %s \n", s);
}
```

**실행 결과**:
```
정수와 long long 정수를 입력 : 1234 1234567890
a = 1234, b = 1234567890
실수를 입력 : 123.456
c = 123.4560, c(지수) = 1.234560e+002
문자를 입력 : A
ch = A
문자열을 입력 : Knou
s[] = Knou
```
</details>

### 3.1.2 문자 단위의 입출력

#### (1) getchar() 함수

**형식**: `getchar();`
**사용 예**: `a=getchar();`
**기능**: 한 문자를 키보드를 통해 입력받음

getchar() 함수는 문자 단위의 입력함수로서, 하나의 문자를 키보드를 통해 받아들이고, 이 문자를 받아들여 저장하는 변수는 정수형이나 문자형으로 선언되어야 함. 특히 getchar() 함수는 괄호 안에 인자를 지정하지 않으며, 문자 입력 후 엔터 키를 눌러야만 자료가 입력됨.

<details>
<summary>getchar() 함수의 사용 예시 (3-5.c)</summary>

```c
#include <stdio.h>
void main() {
    char a;
    printf("문자 하나를 입력하세요 \n");
    a = getchar();      // 한 문자가 입력되면 문자형 변수 a에 저장
    printf("c = %c \n", a);
}
```

**실행 결과**:
```
문자 하나를 입력하세요
S
c = S
```
</details>

#### (2) putchar() 함수

**형식**: `putchar(문자);`
**사용 예**: `putchar('A');`
**기능**: 한 문자를 화면에 출력함

putchar() 함수는 문자 단위의 출력함수로서, getchar() 함수와 반대로 지정된 문자를 화면에 출력하는 기능을 갖음. 사용 형식에서 문자의 형태는 정수형 변수, 정수형 상수, 문자형 변수, 문자 및 수식이면 됨.

<details>
<summary>putchar() 함수의 사용 예시 (3-6.c)</summary>

```c
#include <stdio.h>
void main() {
    char var='A';
    putchar(var);       // 함수의 괄호 안에 문자형 변수가 사용됨
    putchar(var+1);     // 수식이 사용됨
    putchar('\n');      // escape 문자가 사용됨
    putchar('K');       // 문자형 상수가 사용됨
    putchar('K'+2);     // 수식이 사용됨
    putchar('\007');    // escape 문자가 사용됨(\007은 \a와 같은 의미)
}
```

**실행 결과**:
```
AB
KM
(비프음)
```
</details>

### 3.1.3 문자열 단위의 입출력

#### (1) gets() 함수

**형식**: `gets(변수);`
**사용 예**: `char s[50]; gets(s);`
**기능**: 문자열을 키보드로부터 입력받음

gets() 함수는 키보드로부터 문자열을 입력받아 변수가 가리키는 기억공간에 저장하는 문자열 입력함수임. 이때 변수는 배열명이나 포인터 변수여야 함.

입력받는 문자열은 엔터 키를 누를 때까지의