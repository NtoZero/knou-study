# 제3장 입출력함수와 연산자

## 학습개요

모든 프로그램은 처리해야 할 자료의 입력과 출력이 필요함. C 언어에서는 라이브러리 함수(library function) 형태의 입출력함수를 많이 제공하고 있음. C 언어의 연산자는 기계 코드(machine code)와 일대일 대응을 이루도록 설계되어 연산 실행 속도가 매우 빠름.

## 학습목표

1. 표준입출력함수를 이해하고 사용 방법을 습득함
2. 각종 연산자의 기능을 이해하고 여러 가지 예제 적용함
3. 연산자의 우선순위를 이해함

## 주요용어

표준입출력함수 | 산술/관계/논리/대입/조건/비트 연산자 | 연산자 우선순위

---

## 3.1 표준입출력함수

자료를 컴퓨터 내부에 기억시키는 것을 입력이라 하고, 내부에 기억된 내용을 컴퓨터 외부에 나타내는 것을 출력이라고 함. 이러한 자료의 입력과 출력을 위해 C 언어에서 제공하는 대표적인 표준입출력함수는 앞에서 계속 프로그램 도입부에 포함되었던 표준 입출력 라이브러리 `<stdio.h>`에 정의되어 있음.

### 표준입출력함수 분류

#### 표준출력함수
- `printf()`: 화면에 여러 종류의 자료를 출력
- `putchar()`: 화면에 1개의 문자를 출력
- `puts()`: 화면에 문자열을 출력

#### 표준입력함수
- `scanf()`: 키보드를 통해 1개 이상의 자료를 입력받음
- `getchar()`: 키보드를 통해 1개의 문자를 입력받음
- `gets()`: 키보드를 통해 문자열을 입력받음

### 3.1.1 자료의 입출력

#### (1) printf() 함수

프로그램이 실행되고 나면 그 결과를 적절한 양식으로 출력해야 함. printf()는 모니터 화면에 자료를 출력하고자 할 때 사용되는 양식 지정 출력함수로, print formatted의 의미임.

**형식**: `printf("출력 양식", 변수 1, 변수 2, ...);`

**사용 예**:
- `printf("This is an example \n");`
- `printf("A = %d, B = %c \n", a, b);`

**기능**: 주어진 출력 양식으로 자료를 출력함

<details>
<summary>printf() 함수 상세 예시</summary>

```c
#include <stdio.h>
void main() {
    char c = 'A';
    int i = 10, j = 20, k = 30;
    
    // printf()의 인용부호 내 문자가 출력됨
    printf("간단한 출력 프로그램 \n");
    
    // 변수 c값이 순서대로 %c와 %d 자리에 대응됨
    printf("c = %c, c의 아스키 코드값은 %d \n", c, c);
    
    // 변수 i, j, k값이 순서대로 %d자리와 대응됨
    printf("i = %d, j = %d, k = %d", i, j, k);
}
```

**실행 결과**:
```
간단한 출력 프로그램
c = A, c의 아스키 코드값은 65
i = 10, j = 20, k = 30
```
</details>

#### 출력 양식 변환기호

| %문자 | 변환 형식 | 인자의 자료형 |
|-------|----------|-------------|
| %d | 부호 있는 10진 정수로 변환하여 출력 | char, short int, int |
| %ld | 부호 있는 10진 long 정수로 변환하여 출력 | long int |
| %lld | 부호 있는 10진 long long 정수로 변환하여 출력 | long long int |
| %u | 부호 없는 10진 정수로 변환하여 출력 | unsigned int |
| %o | 부호 없는 8진수로 변환하여 출력 | unsigned int |
| %x, %X | 부호 없는 16진수로 변환하여 출력 | unsigned int |
| %f | 10진 부동소수점 형식으로 변환하여 출력 | float, double |
| %lf | 10진 부동소수점 형식으로 변환하여 출력 | long double |
| %e, %E | 지수 형태로 출력 | float, double |
| %c | 한 문자로 변환하여 출력 | char, short int, int |
| %s | 문자열로 변환하여 출력 | char * |
| %p | 포인터 주소값 출력 | void * |

#### 출력 양식의 편집

printf() 함수로 자료를 출력할 때는 출력 폭이나 각 변수에 대한 출력 자릿수를 지정할 수 있음. 즉, 출력 양식 편집은 %문자 다음에 숫자 또는 -(마이너스)를 지정하면 됨.

<details>
<summary>출력 양식 편집 예시</summary>

```c
#include <stdio.h>
void main() {
    printf("|%d| \n", 123);        // 길이만큼 출력 폭이 자동 지정
    printf("|%5d| \n", 123);       // 5자리로 오른쪽부터 채워짐
    printf("|%-5d| \n", 123);      // 5자리로 왼쪽부터 채워짐
    printf("|%05d| \n", 123);      // 5자리로 오른쪽부터 채워지고, 공백은 0으로 채워짐
    printf("|%6.1f| \n", 123.45);  // 6자리(소수점 포함) 소수점 이하 1자리 출력
    printf("|%07.2f| \n", 123.45); // 7자리(소수점 포함) 소수점 이하 2자리 출력
}
```

**실행 결과**:
```
|123|
|  123|
|123  |
|00123|
| 123.5|
|0123.45|
```
</details>

#### (2) scanf() 함수

**형식**: `scanf("입력 양식", &변수 1, &변수 2, ...);`

**사용 예**: `scanf("%d", &a);`

**기능**: 주어진 양식으로 자료를 입력받아 지정된 기억공간(변수)에 저장함

scanf() 함수는 키보드로부터 자료를 입력받을 때 사용되는 양식 지정 입력함수임. scanf() 함수에서 입력 양식으로 사용되는 변환기호는 printf() 함수에서 사용되는 양식 변환기호가 그대로 사용됨.

#### 입력 양식 변환기호

| %문자 | 변환 기능 |
|-------|----------|
| %d | 키보드를 통해 정수형을 입력받음 |
| %ld | 키보드를 통해 long 정수형을 입력받음 |
| %lld | 키보드를 통해 long long 정수형을 입력받음 |
| %f | 키보드를 통해 실수형을 입력받음 |
| %lf | 키보드를 통해 double 실수형을 입력받음 |
| %c | 키보드를 통해 문자형을 입력받음 |
| %s | 키보드를 통해 문자열을 입력받음 |

### 3.1.2 문자 단위의 입출력

#### (1) getchar() 함수

**형식**: `getchar();`
**사용 예**: `a=getchar();`
**기능**: 한 문자를 키보드를 통해 입력받음

getchar() 함수는 문자 단위의 입력함수로서, 하나의 문자를 키보드를 통해 받아들이고, 이 문자를 받아들여 저장하는 변수는 정수형이나 문자형으로 선언되어야 함.

#### (2) putchar() 함수

**형식**: `putchar(문자);`
**사용 예**: `putchar('A');`
**기능**: 한 문자를 화면에 출력함

putchar() 함수는 문자 단위의 출력함수로서, getchar() 함수와 반대로 지정된 문자를 화면에 출력하는 기능을 갖음.

### 3.1.3 문자열 단위의 입출력

#### (1) gets() 함수

**형식**: `gets(변수);`
**사용 예**: `char s[50]; gets(s);`
**기능**: 문자열을 키보드로부터 입력받음

gets() 함수는 키보드로부터 문자열을 입력받아 변수가 가리키는 기억공간에 저장하는 문자열 입력함수임.

#### (2) puts() 함수

**형식**: `puts(변수);`
**사용 예**: `char s[]="seoul"; puts(s);`
**기능**: 문자열을 화면에 출력함

puts() 함수는 변수가 가리키는 문자열을 화면에 출력하는 문자열 출력함수로서, 문자열을 출력한 후 자동으로 줄이 바뀜.

---

## 3.2 연산자

연산자(operator)란 의미의 자료에 대해 각종 연산을 수행하게 하는 기호를 말함. C 언어의 주요한 특징 중 하나는 각종 연산자가 풍부하다는 점임.

### 연산자 분류

| 구분 | 연산자 |
|------|--------|
| 산술 연산자 | + - * / % ++ -- |
| 관계 연산자 | > < >= <= == != |
| 논리 연산자 | && \|\| ! |
| 대입 연산자 | = += -= *= /= %= <<= >>= != &= |
| 조건 연산자 | ? : |
| 비트 연산자 | & \| ^ ~ << >> |
| 기타 연산자 | sizeof() cast & * |

### 3.2.1 산술 연산자

산술 연산자는 피연산자에 대해 사칙연산을 포함한 각종 산술연산을 수행하는 연산자로 이항 연산자와 단항 연산자로 구분할 수 있음.

#### (1) 이항 연산자

이항 연산자(binary operator)는 2개의 자료를 대상으로 산술적인 처리를 수행하는 연산자임. +, -, *, / 연산자는 덧셈, 뺄셈, 곱셈, 나눗셈의 사칙연산을 수행하는 연산자이며, % 연산자는 나눗셈의 나머지 값을 이용하는 나머지 연산자(modulo operator)임. 특히 % 연산자는 정수형 자료에만 사용할 수 있고, 실수형 자료에는 사용할 수 없음.

#### (2) 단항 연산자

단항 연산자(unary operator)는 1개의 자료만을 대상으로 산술적인 처리를 수행하는 연산자임. 단항 연산자 중 ++, -- 연산자를 증감 연산자라고도 하며, 각각 피연산자의 값을 1씩 증가시키거나 1씩 감소시키는 기능을 수행함.

**증감 연산의 표현**:
- `i++`: `i = i + 1`
- `i--`: `i = i - 1`

**전치연산과 후치연산**:
- `i++` (후치연산): i의 값을 먼저 사용한 후 1 증가
- `++i` (전치연산): i의 값을 1 증가시킨 후 사용

### 3.2.2 관계 연산자

| 연산자 | 기능 | 사용 예 |
|--------|------|---------|
| == | 같은가의 여부를 비교 | a == b : a와 b는 같다 |
| != | 다른가의 여부를 비교 | a != b : a와 b는 같지 않다 |
| >, >=, <=, < | 대소 관계를 비교 | a >= b : a는 b보다 크거나 같다 |

관계 연산자(relational operator)는 피연산자에 대한 대소 관계를 비교하는 연산자이며, 그 결과는 참과 거짓으로 나타남.

**참과 거짓의 표현**:
C에서 관계 연산자에서 참과 거짓은 0과 1로 표현됨.
- 참(true): 1을 돌려줌
- 거짓(false): 0을 돌려줌

### 3.2.3 논리 연산자

| 연산자 | 기능 | 사용 예 |
|--------|------|---------|
| && | 논리곱(AND): 양쪽 모두 참일 때만 참 | a && b |
| \|\| | 논리합(OR): 양쪽 중 하나라도 참이면 참 | a \|\| b |
| ! | 논리부정(NOT): 오른쪽이 참이면 거짓, 거짓이면 참 | !a |

논리 연산자(logical operator)는 피연산자에 대해 논리연산(AND, OR, NOT)을 수행하는 연산자이며, 연산 결과는 참과 거짓으로 나타남.

### 3.2.4 대입 연산자

| 연산자 | 기능 | 사용 예 |
|--------|------|---------|
| = | a에 5를 대입 | a = 5 |
| += | a = a + 5 : a에 5를 더한 후 결과를 a에 대입 | a += 5 |
| -= | a = a - 5 : a에서 5를 뺀 후 결과를 a에 대입 | a -= 5 |
| *= | a = a * 5 : a에 5를 곱한 후 결과를 a에 대입 | a *= 5 |
| /= | a = a / 5 : a를 5로 나눈 후 결과를 a에 대입 | a /= 5 |
| %= | a = a % 5 : a를 5로 나눈 나머지를 a에 대입 | a %= 5 |

대입 연산자(assignment operator)는 '='을 사용하여 구성되며, 연산자의 오른쪽을 왼쪽에 대입하는 데 사용됨.

### 3.2.5 조건 연산자

**형식**: `(조건) ? 수식 1 : 수식 2;`

**사용 예**: `x = (5 > 2) ? 1 : 0;`

**기능**: 조건이 성립하면(참이면) 수식 1을 수행하고, 조건이 성립되지 않으면(거짓이면) 수식 2를 수행함

조건 연산자(conditional operator)는 주어진 조건의 만족 여부에 따라 지정된 수식을 수행하는 연산자로서 3개의 피연산자를 취하는 3항 연산자임.

### 3.2.6 비트 연산자

| 연산자 | 기능 | 사용 예 |
|--------|------|---------|
| & (bit AND) | 대응되는 두 bit가 모두 1일 때만 결과는 1 | a & b |
| \| (bit OR) | 대응되는 두 bit 중 하나라도 1이면 결과는 1 | a \| b |
| ^ (bit XOR) | 대응되는 두 bit가 서로 다를 때만 결과는 1 | a ^ b |
| ~ (bit NOT) | 1은 0으로, 0은 1로 함 | ~a |
| << (bit 왼쪽으로 이동) | a의 값에 대해 2bit 왼쪽으로 이동 | a << 2 |
| >> (bit 오른쪽으로 이동) | a의 값에 대해 2bit 오른쪽으로 이동 | a >> 2 |

비트 연산자(bitwise operator)는 수치를 2진수로 변환하여 bit 단위의 연산을 수행하는 연산자임.

### 3.2.7 기타 연산자

| 연산자 | 기능 |
|--------|------|
| sizeof() | 지정한 자료형, 상수, 변수가 차지하는 기억공간의 크기(byte)를 구함 |
| cast(형변환) | 지정된 자료형을 다른 자료형으로 강제적으로 바꿈 |
| & | 주소 연산자로서 피연산자의 주소를 나타냄 |
| * | 내용 연산자로서 피연산자의 내용을 가져옴 |

#### (1) sizeof 연산자

**형식**: `sizeof(자료)`
**사용 예**: `sizeof(int)`
**기능**: 지정한 자료(자료형, 상수, 변수, 수식)에 대한 기억장소의 크기를 구함

#### (2) cast 연산자(형변환 연산자)

**형식**: `(형명칭)자료;`
**사용 예**: `(float)i/j;`
**기능**: 이미 지정된 자료의 자료형을 강제로 다른 자료형으로 변환함

형변환은 '자동 형변환'과 '강제 형변환'이 있는데, 자동 형변환은 컴파일러에 의해 자동으로 발생하는 형변환이고, 강제 형변환은 cast 연산자를 사용해 프로그래머가 형변환을 명시하여 강제로 변환이 일어나는 것임.

### 3.2.8 연산자 우선순위

수학에서와 마찬가지로 C 언어에서 제공되는 모든 연산자에도 연산자 우선순위가 정해져 있음. 즉, 하나의 연산식에 여러 개의 연산자가 사용될 경우에는 연산자 우선순위에 따라 연산이 이루어짐.

#### 연산자 우선순위표

| 연산자명 | 연산자 | 결합 방향 | 우선순위 |
|----------|--------|----------|----------|
| 괄호, 구조체, 공용체 | () [] -> . | 좌 → 우 | 높음 |
| 단항 연산자 | ! ~ ++ -- & * sizeof() cast | 우 → 좌 | ↑ |
| 곱 · 제 | * / % | 좌 → 우 | |
| 가 · 감 | + - | 좌 → 우 | |
| 비트 이동 | << >> | 좌 → 우 | |
| 대소 비교 | < <= > >= | 좌 → 우 | |
| 등가 판정 | == != | 좌 → 우 | 낮음 |
| bit AND | & | 좌 → 우 | ↓ |
| bit XOR | ^ | 좌 → 우 | |
| bit OR | \| | 좌 → 우 | |
| 논리 AND | && | 좌 → 우 | |
| 논리 OR | \|\| | 좌 → 우 | |
| 조건 연산자 | ?: | 우 → 좌 | |
| 대입 연산자 | = += *= ... &= | 우 → 좌 | |

## 예제 프로그램

### 예제 3-1: 출력 양식 편집 예제

다음은 입력된 정수형, 실수형, 문자열 자료에 대한 출력 양식에 관한 프로그램임.

```c
#include <stdio.h>
void main() {
    int i = 873;
    float f = 123.4567;
    char s[] = "Happy birthday";
    
    printf("정수형 자료의 출력 \n");
    printf("\t %04d \n \t %09d \n\n", i, i);
    printf("실수형 자료의 출력 \n");
    printf("\t %.3f \n \t %.3e \n\n", f, f);
    printf("문자열 자료의 출력 \n");
    printf("\t %.11s \n", s);
}
```

### 예제 3-2: 동전 교환 프로그램

C 언어에서 제공하는 각종 연산자를 이용하여 입력된 액수를 500원, 100원, 50원, 10원짜리 동전으로 교환해 주는 프로그램임.

```c
#include <stdio.h>
#pragma warning(disable:4996)
void main() {
    int in_money, coin_500, coin_100, coin_50, coin_10;
    
    printf("동전으로 교환할 금액은? ");
    scanf("%d", &in_money);
    
    coin_500 = in_money / 500;
    in_money = in_money % 500;
    coin_100 = in_money / 100;
    in_money = in_money % 100;
    coin_50 = in_money / 50;
    in_money = in_money % 50;
    coin_10 = in_money / 10;
    in_money = in_money % 10;
    
    printf("\n오백원짜리 => %d개 \n", coin_500);
    printf("백원짜리 => %d개 \n", coin_100);
    printf("오십원짜리 => %d개 \n", coin_50);
    printf("십원짜리 => %d개 \n", coin_10);
    printf("바꾸지 못한 잔돈 => %d원 \n", in_money);
}
```

## 요점정리

1. C 언어는 라이브러리 함수(library function) 형태의 많은 입출력함수를 제공함
2. printf(), scanf(), putchar(), getchar(), puts(), gets() 함수 등이 있음
3. printf() 함수는 양식 변환기호인 %문자와 함께 사용되어 결과를 화면에 출력하는 함수임
4. scanf() 함수는 키보드로 자료를 입력받을 때 사용되는 양식 지정 입력함수로 scanf() 함수 안에 사용되는 모든 변수 앞에는 & 연산자를 붙여야 함
5. 산술 연산자는 사칙연산을 포함한 각종 산술연산을 수행하는 연산자로서 이항 연산자와 단항 연산자로 구분됨
6. 관계 연산자는 조건검정을 위해 사용되며, 피연산자에 대한 대소를 비교하는 연산자로 그 결과는 참과 거짓으로 나타남
7. 논리 연산자는 피연산자에 대한 논리연산(AND, OR, NOT)을 수행하는 연산자로 연산 결과는 참과 거짓으로 나타남
8. 대입 연산자는 '='을 사용하여 구성되며, 연산자의 오른쪽을 왼쪽에 대입하는 데 사용됨
9. 조건 연산자는 주어진 조건의 만족 여부에 따라 지정된 수식을 수행하는 연산자임
10. 비트 연산자는 수치를 2진수로 변환하여 bit 단위의 연산을 수행하는 연산자임
11. sizeof 연산자는 인수의 기억장소의 크기를 바이트(byte) 단위로 리턴함
12. 모든 연산자는 연산자 우선순위에 따라 연산이 이루어짐