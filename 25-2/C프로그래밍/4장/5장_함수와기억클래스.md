# 5. 함수와 기억 클래스

## 학습목표
1. 함수의 개념과 중요성을 이해할 수 있음
2. 함수의 선언, 정의, 호출, 자료 전달 방법에 대해 이해할 수 있음
3. 표준함수에 대한 헤더 파일을 사용할 수 있음
4. 변수의 유효범위와 기억 클래스를 이해할 수 있음

## 5.1 함수의 개념

### 함수의 정의와 특징
- C언어에서 함수는 수학에서의 함수와 같이 특정한 작업(기능)을 수행하도록 설계된 독립적인 프로그램
- C 프로그램은 여러 개의 모듈(module)로 분류하고 각각의 모듈에 해당하는 실행 내용을 기술한 함수를 작성하여 실행 순서에 따라 차례로 호출하는 형식으로 작성

### 모듈화 작성의 장점
- **프로그램의 수정이 용이함**
- **함수 재사용으로 코드 중복을 최소화함**
- **프로그램의 기능을 한눈에 파악할 수 있게 해 유지 관리가 쉬움**

### C 함수의 특성
- 모든 C 함수들은 모두 동등한 지위를 가짐으로써 자기 자신뿐만 아니라 서로를 호출할 수 있게 됨
- 함수 내부에서의 처리나 조작은 다른 함수로부터 격리되어 있는 것을 보장
- 함수 독립성이라는 것은 어떤 함수가 다른 함수를 호출한다는 것은 그 프로그램의 일부 처리를 수행한다는 것일 뿐 호출한 함수를 제어하지는 않음

### 함수의 종류
1. **표준함수**: C 언어에서 제공하는 printf(), scanf() 등
2. **사용자정의 함수**: 사용자가 필요에 따라 정의하여 사용하는 함수

### main() 함수
- C 프로그램은 반드시 하나의 main() 함수를 포함해야 함
- main() 함수는 C 언어에서 제공하는 표준함수와 프로그래머가 직접 만든 함수와는 차이점이 있음

## 5.2 표준함수

### 표준함수의 특징
- C 언어에서 자체적으로 제공하는 함수들을 표준함수라고 함
- 표준함수는 표준 라이브러리라는 이름으로 제공되는데 그 수는 매우 많음
- 표준함수를 프로그램에서 사용하려면 우선 그 표준함수의 양식에 해당하는 함수의 원형(prototype)과 실체를 알아야 함

### 주요 헤더 파일과 함수들

| 헤더 파일 | 선언된 함수 | 함수 예 |
|-----------|-------------|---------|
| stdio.h | 입출력함수 | printf(), scanf(), getchar(), putchar(), ... |
|  | 파일 관련 함수 | fopen(), fclose(), fprintf(), ... |
| conio.h | 콘솔 입출력함수 | putch(), cputs(), cprintf(), getch(), getche(), cscanf(), ... |
| string.h | 문자열 처리 함수 | strcat(), strcmp(), strcpy(), strlen(), strncat(), stmcmp(), strncpy(), ... |
| math.h | 수학함수 | sqrt(), sin(), cos(), tan(), log(), exp(), pow(), abs(), asin(), acos(), atan(), cosh(), ... |
| ctype.h | 문자 형태 판별 함수 | isalpha(), isdigit(), islower(), ... |
|  | 문자 변환 함수 | tolower(), toupper() |
|  | 수치 변환 함수 | atoi(), itoa() |
| stdlib.h | 난수 관련 함수 | rand(), srand() |
|  | 정렬/검색 함수 | qsort(), lfind() |

## 5.3 사용자 정의 함수

### 5.3.1 함수의 정의

함수가 수행하는 일을 기술하는 코드를 함수의 정의라고 함

#### 함수 정의 형식
```c
반환 자료형 함수명(자료형 매개변수 1, 자료형 매개변수 2, …)
{  // 함수 시작
    함수 몸체
}  // 함수 끝
```

### 5.3.5 매개변수 사이의 자료 전달 방법

매개변수 사이의 자료 전달 방법으로는 **'값에 의한 자료 전달(call by value)'**과 **'참조에 의한 자료 전달(call by reference)'** 방법이 있음

#### (1) 값에 의한 자료 전달방법

- 값에 의한 자료 전달 방법은 C 언어에서의 기본적인 자료 전달 방법
- 실매개변수와 형식매개변수 사이에 값의 전달이 일어남

**특징**:
- 호출함수의 실매개변수 값이 형식매개변수로 그대로 복사되어 전달됨
- 형식매개변수를 통하여 여러 개의 값을 되돌려 받지는 못함
- return문을 통하면 1개의 값은 돌려받을 수 있음

#### (2) 참조에 의한 자료 전달 방법

- 참조에 의한 자료 전달 방법은 값에 의한 자료 전달 방법과는 달리 실매개변수에서 형식매개변수로 자료 전달이 일어날 뿐 아니라 전달된 후 바뀐 형식매개변수의 값도 되돌려 받을 수 있음

**특징**:
- 이때 참조에 의한 자료 전달 방법에서 실매개변수 앞에는 주소 연산자 **&**를 붙여야 함
- 형식매개변수는 항상 주소를 참조하는 포인터 변수로 선언되어야 함

## 5.4 기억 클래스

### 기억 클래스의 개념

**기억 클래스(storage class)**란 변수를 기억공간의 특정 영역에 할당하는 방법을 말함

### 5.4.2 기억 클래스의 종류

C 언어에서 사용되는 기억 클래스는 **자동변수(auto variables)**, **정적변수(static variables)**, **외부변수(extern variables)**, **레지스터 변수(register variables)**로 나누어짐

#### (1) 자동변수(Auto Variables)
- 자동변수는 보통 함수 실행 시에 만들어지고 실행이 끝나면 기억공간이 제거되는 유형
- auto라는 예약어를 사용하여 선언하나 생략이 가능함 (지역변수가 이에 해당)

#### (2) 정적변수(Static Variables)
- 변수의 기억 영역을 프로그램이 끝날 때까지 계속 유지하려면 변수를 static으로 선언해 주면 됨
- static으로 정적변수 선언이 이루어지면 정적인 기억 영역이 컴파일할 때 확보되어 변수에 할당됨

#### (3) 외부변수(External Variables)
- 외부변수란 현재 파일이 아닌 다른 파일에 있다는 뜻
- 외부변수는 전역변수와 같으나, 외부변수는 프로그램이 종료될 때까지 존재함

#### (4) 레지스터 변수(Register Variables)
- 레지스터 변수는 CPU 내의 레지스터에 자료를 저장하고자 할 때 사용됨
- 이유는 프로그램의 실행 속도를 조금이나마 빠르게 하기 위해서임

### 기억 클래스별 특성 요약표

| 기억 클래스 | 예약어 | 사용 위치 | 기억 방식 | 초깃값 | 수명 | 범위 |
|-------------|--------|-----------|-----------|--------|------|------|
| 자동 변수 | auto 또는 생략 | 함수 내부 또는 블록 | 동적 | 미정 | 소멸 | 함수 내부 또는 블록 |
| 정적 변수 | static | 함수 내부 또는 블록 | 정적 | 0 | 불멸 | 함수 내부 또는 블록 |
|  | static | 함수 외부 | 정적 | 0 | 불멸 | 변수가 선언된 전체 파일 영역 |
| 외부 변수 | × | 함수 외부 | 정적 | 0 | 불멸 | 변수가 선언된 파일과 참조 선언된 파일 영역 |
|  | extern | 함수 외부 또는 블록 | × | - | - | 변수가 선언된 파일 |
| 레지스터 변수 | register | 함수 내부 또는 블록 | 동적 | 미정 | 소멸 | 함수 내부 또는 블록 |

## 요약·정리

1. C 프로그램은 여러 개의 함수로 구성되고, 반드시 1개의 main() 함수가 포함되어야 함
2. 함수의 종류에는 표준함수와 사용자 정의 함수가 있음
3. 표준함수를 사용하려면 해당 헤더 파일을 #include시켜야 함
4. 함수의 구성 요소는 원형 선언, 함수의 호출, 함수의 정의임
5. 자료 전달 방법에는 값에 의한 전달(call by value)과 참조에 의한 전달(call by reference)이 있음
6. 기억 클래스에는 자동변수, 정적변수, 외부변수, 레지스터 변수가 있음